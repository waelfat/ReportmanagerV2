@using reportmangerv2.Domain

@model CreateCategoryViewModel
@{
    ViewData["Title"] = "Create Category";
}

<div class="container mt-4">
    <h2><i class="fas fa-folder-plus me-2"></i>Create Category</h2>
    
    <div class="card mt-4">
        <div class="card-header bg-primary text-white">
            <i class="fas fa-info-circle me-2"></i>Category Information
        </div>
        <div class="card-body">
            <form asp-action="Create" method="post">
                <div class="form-group mb-3">
                    <label asp-for="Name" class="form-label fw-semibold">
                        <i class="fas fa-tag me-2"></i>Category Name <span class="text-danger">*</span>
                    </label>
                    <input asp-for="Name" class="form-control" placeholder="Enter category name" required />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
                
                <div class="form-group mb-3">
                    <label for="ParentCategoryId" class="form-label fw-semibold">
                        <i class="fas fa-folder-tree me-2"></i>Parent Category
                    </label>
                    <select asp-for="ParentCategoryId" class="form-control">
                        <option value="">-- Root Category --</option>
                        @if (ViewBag.CategoriesHierarchy != null)
                        {
                            @foreach (var category in ViewBag.CategoriesHierarchy as IEnumerable<SelectListItem>)
                            {
                                <option value="@category.Value">@category.Text</option>
                            }
                        }
                    </select>
                    <small class="text-muted">Leave empty to create a root category</small>
                </div>
                
                <div class="d-flex gap-2 mt-4">
                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-save me-2"></i>Create Category
                    </button>
                    <a href="@Url.Action("Index")" class="btn btn-secondary">
                        <i class="fas fa-times me-2"></i>Cancel
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
